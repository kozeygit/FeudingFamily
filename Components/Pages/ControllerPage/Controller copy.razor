@page "/Controller"
@page "/Controller/{gameKey}"
@inherits ControllerPageBase
@using Microsoft.AspNetCore.SignalR.Client
@using FeudingFamily.Logic

<PageTitle>Feuding Family - Controller</PageTitle>

<body>
    <main>
        <div class="container">
            <div class="question">
                <h1 id="question">{{ question }}</h1>
            </div>
            <div class="answers" id="answers">
                <button class="answer" onclick="reveal_answer(this)" type="button" id="1">
                    <div class="answer-num">
                        <p>1</p>
                    </div>
                    <div class="answer-answer">
                        <p id="answer1">{{ answers[1]['text'] }}</p>
                    </div>
                    <div class="answer-score">
                        <p id="points1">{{ answers[1]['points'] }}</p>
                    </div>
                </button>

                <button class="answer" onclick="reveal_answer(this)" type="button" id="2">
                    <div class="answer-num">
                        <p>2</p>
                    </div>
                    <div class="answer-answer">
                        <p id="answer2">{{ answers[2]['text'] }}</p>
                    </div>
                    <div class="answer-score">
                        <p id="points2">{{ answers[2]['points'] }}</p>
                    </div>
                </button>

                <button class="answer" onclick="reveal_answer(this)" type="button" id="3">
                    <div class="answer-num">
                        <p>3</p>
                    </div>
                    <div class="answer-answer">
                        <p id="answer3">{{ answers[3]['text'] }}</p>
                    </div>
                    <div class="answer-score">
                        <p id="points3">{{ answers[3]['points'] }}</p>
                    </div>
                </button>

                <button class="answer" onclick="reveal_answer(this)" type="button" id="4">
                    <div class="answer-num">
                        <p>4</p>
                    </div>
                    <div class="answer-answer">
                        <p id="answer4">{{ answers[4]['text'] }}</p>
                    </div>
                    <div class="answer-score">
                        <p id="points4">{{ answers[4]['points'] }}</p>
                    </div>
                </button>

                <button class="answer" onclick="reveal_answer(this)" type="button" id="5">
                    <div class="answer-num">
                        <p>5</p>
                    </div>
                    <div class="answer-answer">
                        <p id="answer5">{{ answers[5]['text'] }}</p>
                    </div>
                    <div class="answer-score">
                        <p id="points5">{{ answers[5]['points'] }}</p>
                    </div>
                </button>
            </div>
            <div class="stats">
                <div id="wrong-answer">{{ wrong_answers }}</div>
                <div id="buzzer-active">‚ùå</div>
                <div id="round-points">{{ total_points }}</div>
            </div>
            <div class="answer-btns">
                <button class="wrong-answer-btn" onclick="wrong_answer()" type="button">
                    <p>Wrong Answer</p>
                </button>
                <button class="reveal-btn" onclick="reveal_question()" type="button">
                    <p>reveal question</p>
                </button>
            </div>
            <div class="buzzer-btns">
                <button class="buzzer-btn" onclick="activate_buzzers()" type="button">
                    <p>BUZZERS ON</p>
                </button>
                <button class="buzzer-btn" onclick="deactivate_buzzers()" type="button">
                    <p>BUZZERS OFF</p>
                </button>
            </div>

            <div class="btn-pair">
                <button class="new_question-btn" onclick="new_question()" type="button">
                    <p>New Question</p>
                </button>
                <button class="buzz-whenever" onclick="buzz_whenever()" type="button">
                    <p>WRONG BUZZER</p>
                </button>
            </div>

            <div class="sound-btns">
                <button class="sound-btn" onclick="play_sound('timer')" type="button">
                    <p>Timer</p>
                </button>
                <button class="sound-btn" onclick="play_sound('intro')" type="button">
                    <p>Intro</p>
                </button>
                <button class="sound-btn" onclick="play_sound('laugh')" type="button">
                    <p>Laugh</p>
                </button>
                <button class="sound-btn" onclick="play_sound('hold')" type="button">
                    <p>Hold</p>
                </button>
                <button class="sound-btn" onclick="countdown()" type="button">
                    <p>Countdown</p>
                </button>
            </div>
            <div id="connection-status"></div>
        </div>
    </main>
</body>